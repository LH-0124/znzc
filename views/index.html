<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>面向听障人群的语音康复训练系统</title>
    <link rel="stylesheet" href="/css/style.css">

    <!-- 字体与图标 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* 若没有引入 style.css，可临时加上这段样式 */
        .real-time-box { border: 1px solid #ccc; padding: 12px; border-radius: 8px; min-height: 60px; }
        .prompt-text { color: #888; font-style: italic; }
        .progress-bar { width: 100%; background: #ddd; height: 20px; border-radius: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: #4CAF50; width: 0%; transition: width 0.5s; }
        .accuracy-text { font-weight: bold; margin-top: 8px; display: block; text-align: right; }
        .error-toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #f44336; color: white; padding: 10px 20px; border-radius: 6px; display: none; z-index: 9999; }
        .main-btn { margin: 10px; padding: 10px 20px; font-size: 16px; border: none; border-radius: 6px; background-color: #2A5CAA; color: white; cursor: pointer; }
        .main-btn img { vertical-align: middle; margin-right: 8px; height: 20px; }
    </style>
</head>
<body>
    <header>
        <h1>面向听力障碍人群的语音识别康复系统</h1>
        <div class="header-images">
            <img src="/images/ear-icon.png" alt="听力图标">
            <img src="/images/sound-wave.png" alt="声波图示">
        </div>
    </header>

    <main class="container">
        <!-- 实时识别显示 -->
        <div class="realtime-feedback">
            <div id="realTimeResult" class="real-time-box">
                <i class="fas fa-comment-dots"></i>
                <span class="prompt-text">点击下方按钮开始录音</span>
            </div>
        </div>

        <!-- 控制按钮 -->
        <div class="control-panel">
            <button class="main-btn" id="playBtn">
                <img src="/images/play-icon.png" alt="播放">
                播放训练音频
            </button>
            <button class="main-btn" id="recordBtn">
                <img src="/images/mic-icon.png" alt="麦克风">
                开始录音练习
            </button>
        </div>

        <!-- 显示识别结果与准确率 -->
        <div class="result-container">
            <div class="result-card">
                <h2><i class="fas fa-microphone-alt"></i> 语音识别结果</h2>
                <div id="finalResult" class="result-box">
                    <div class="comparison-container">
                        <div class="answer-row">
                            <span class="label">您的输入：</span>
                            <span id="userInputText" class="text"></span>
                        </div>
                        <div class="answer-row">
                            <span class="label">正确答案：</span>
                            <span id="correctAnswerText" class="text"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="result-card">
                <h2><i class="fas fa-chart-line"></i> 准确度分析</h2>
                <div class="result-box">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <span id="accuracyValue" class="accuracy-text">0%</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 音频播放备用方案 -->
    <audio id="hiddenAudio" src="/audio/1.mp3" preload="auto" style="display: none;"></audio>

    <!-- 错误提示 -->
    <div id="errorToast" class="error-toast"></div>

    <!-- JavaScript -->
    <script src="/js/main.js"></script>
</body>
</html>
